<mat-toolbar color="primary" class="top-navbar" [class.mat-elevation-z6]="true">
  <section>
    <button mat-icon-button class="icon-button" (click)="sideNavBar.toggle()">
      <mat-icon aria-hidden="false" aria-label="main menu">menu</mat-icon>
    </button>
    <button mat-icon-button class="icon-button" routerLink="/trending">
      <mat-icon aria-hidden="false" aria-label="logo" svgIcon="logo"></mat-icon>
    </button>
  </section>
  <!-- <mat-form-field appearance="outline" class="search-bar">
    <input matInput placeholder="Search for tags and locations" type="search" class="placeholder" style="color: aqua">
    <mat-icon matSuffix>search</mat-icon>
  </mat-form-field> -->
  <section *ngIf="isMobile(); else normalsize">
    <app-search-mobile></app-search-mobile>

  </section>
  <ng-template #normalsize>
    <app-searchbar></app-searchbar>

  </ng-template>


  <section *ngIf="loggedIn(); else loggedOut">
    <mat-menu #userMenu="matMenu">

      <button mat-menu-item routerLink="/viewProfile" matTooltip="Your personal details, right here!">
        <mat-icon aria-hidden="false" aria-label="edit profile">accessibility_new</mat-icon>
        Hi {{username}}!
      </button>


      <mat-divider></mat-divider>
      <button mat-menu-item routerLink="/editProfile">
        <mat-icon aria-hidden="false" aria-label="edit profile">edit</mat-icon>
        Edit Profile
      </button>
      <button mat-menu-item (click)="signOut()">
        <mat-icon aria-hidden="false" aria-label="edit profile">exit_to_app</mat-icon>
        Sign Out
      </button>
    </mat-menu>
    <button mat-icon-button class="icon-button" [mat-menu-trigger-for]="userMenu">
      <mat-icon aria-hidden="false" aria-label="user menu">person</mat-icon>
    </button>
  </section>
  <ng-template #loggedOut>

    <button mat-raised-button (click)="openLogin()" id="signin-button">
      Sign in
    </button>

  </ng-template>
</mat-toolbar>
<mat-sidenav-container hasBackdrop="true">
  <mat-sidenav #sideNavBar mode="over" opened="false" class="side-navbar" fixedInViewport="true" fixedTopGap="70">

    <a href="https://newszoid.wtf/app-debug.apk" style="padding-right: 15px; color: black;">
      <button mat-flat-button class="navbar-button">
        <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">android</mat-icon>
        Our App
      </button>
    </a>


    <button mat-flat-button class="navbar-button" (click)="trending()">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">local_activity</mat-icon>
      Trending Now
    </button>
    <button mat-flat-button class="navbar-button" (click)="recommendation()">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">person</mat-icon>
      For You
    </button>
    <button mat-flat-button class="navbar-button" (click)="liked()">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">poll</mat-icon>
      Your Activities
    </button>
    <button mat-flat-button class="navbar-button" (click)="posted()">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">movie_creation</mat-icon>
      Your Posts
    </button>
    <!-- <button mat-flat-button class="navbar-button" (click)="upload()">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">add_to_queue</mat-icon>
      Upload News
    </button> -->
    <mat-divider></mat-divider>

    <section *ngFor="let category of categories">
      <button mat-flat-button class="navbar-button" [routerLink]="['/category', category.name]">
        <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">{{category.icon}}</mat-icon>
        <!-- {{category.name}} -->
        <span>{{category.name}}</span>

      </button>
    </section>
    <mat-divider></mat-divider>
    <button mat-flat-button class="navbar-button" (click)="graph()">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">assessment</mat-icon>
      Statistics
    </button>
    <mat-divider></mat-divider>

    <button mat-flat-button class="navbar-button" (click)="openBottomSheet()"
      matTooltip="Do have a read, it's important.">
      <mat-icon aria-hidden="false" aria-label="main menu" class="button-icon">code</mat-icon>
      About us
    </button>
  </mat-sidenav>
  <mat-divider [vertical]="true"></mat-divider>
  <mat-sidenav-content fxLayout="column" fxFlexFill>
    <router-outlet class="main-content"></router-outlet>
    <app-footer fxFlexOffset="auto"></app-footer>

  </mat-sidenav-content>
</mat-sidenav-container>